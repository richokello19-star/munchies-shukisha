<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Munchies & Shukisha | Chef Marketplace</title>
    <link rel="icon" href="munchies-logo.png" type="image/png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #11151C;
            --secondary: #38b6ff;
            --accent: #E63946;
            --light: #F1FAEE;
            --whatsapp: #25D366;
            --whatsapp-hover: #128C7E;
            --gold: #FFD700;
            --success: #4CAF50;
            --warning: #FF9800;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Montserrat', 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--light);
            color: var(--primary);
            position: relative;
            min-height: 100vh;
            padding-bottom: 100px;
            line-height: 1.6;
        }
        
        header {
            background-color: var(--primary);
            color: white;
            padding: 20px 0;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .logo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .logo {
            font-size: 2.5rem;
            font-weight: 800;
            display: flex;
            align-items: center;
            gap: 15px;
            letter-spacing: -0.5px;
        }
        
        .logo-icon {
            height: 50px;
            width: 50px;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 24px;
        }
        
        .brand-names {
            font-family: 'Pacifico', cursive;
            font-size: 1.8rem;
            margin-top: 8px;
            color: var(--secondary);
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        nav ul {
            list-style: none;
            padding: 0;
            display: flex;
            justify-content: center;
            gap: 25px;
            flex-wrap: wrap;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            font-weight: 600;
            padding: 8px 16px;
            border-radius: 30px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        nav a:hover {
            background-color: rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }
        
        nav a::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 3px;
            background-color: var(--secondary);
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }
        
        nav a:hover::after {
            width: 70%;
        }
        
        .hero {
            background: linear-gradient(135deg, rgba(17, 21, 28, 0.85) 0%, rgba(17, 21, 28, 0.7) 100%), 
                        url('https://images.unsplash.com/photo-1546069901-ba9599a7e63c?ixlib=rb-1.2.1&auto=format&fit=crop&w=1600&q=80');
            background-size: cover;
            background-position: center;
            height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-align: center;
            position: relative;
            padding: 0 20px;
        }
        
        .hero-content {
            max-width: 800px;
            padding: 30px;
            background: rgba(17, 21, 28, 0.7);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .hero h1 {
            font-size: 3.5rem;
            margin: 0 0 20px;
            text-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
            line-height: 1.2;
        }
        
        .hero p {
            font-size: 1.5rem;
            margin: 0 0 30px;
            opacity: 0.9;
        }
        
        .btn-container {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--secondary);
            color: white;
            padding: 14px 32px;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1.1rem;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: none;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(56, 182, 255, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(56, 182, 255, 0.4);
        }
        
        .btn:active {
            transform: translateY(-1px);
        }
        
        .btn-secondary {
            background-color: transparent;
            border: 2px solid white;
        }
        
        .vendor-badge {
            background: var(--gold);
            color: #333;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            display: inline-block;
            margin-bottom: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        
        .menu {
            padding: 70px 20px;
            text-align: center;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .menu-header {
            margin-bottom: 50px;
        }
        
        .menu h2 {
            font-size: 2.8rem;
            margin-bottom: 15px;
            color: var(--primary);
            position: relative;
            display: inline-block;
        }
        
        .menu h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--secondary);
            border-radius: 2px;
        }
        
        .menu p {
            font-size: 1.2rem;
            color: #666;
            max-width: 700px;
            margin: 0 auto 30px;
        }
        
        .menu-items {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 40px;
            margin-top: 30px;
        }
        
        .menu-item {
            background-color: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: relative;
            display: flex;
            flex-direction: column;
            height: 100%;
            cursor: pointer;
        }
        
        .menu-item:hover {
            transform: translateY(-15px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .menu-item-img {
            width: 100%;
            height: 220px;
            object-fit: cover;
            transition: transform 0.3s ease;
        }
        
        .menu-item:hover .menu-item-img {
            transform: scale(1.05);
        }
        
        .menu-item-content {
            padding: 25px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        
        .menu-item h3 {
            margin: 0 0 12px;
            font-size: 1.6rem;
            color: var(--primary);
        }
        
        .menu-item p {
            margin: 12px 0;
            color: #555;
            flex-grow: 1;
        }
        
        .rating {
            color: var(--gold);
            margin: 10px 0;
            font-size: 1.1rem;
        }
        
        .price {
            font-weight: 800;
            color: var(--accent);
            font-size: 1.8rem;
            margin: 15px 0;
        }
        
        footer {
            background-color: var(--primary);
            color: white;
            text-align: center;
            padding: 30px 0;
            position: absolute;
            bottom: 0;
            width: 100%;
        }

        /* Auth Modals */
        .overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            backdrop-filter: blur(5px);
        }

        .auth-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
            z-index: 1001;
            width: 450px;
            max-width: 95%;
            animation: modalFadeIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes modalFadeIn {
            from {
                opacity: 0;
                transform: translate(-50%, -55%) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translate(-50%, -50%) scale(1);
            }
        }

        .auth-modal h2 {
            margin-top: 0;
            color: var(--primary);
            text-align: center;
            font-size: 2rem;
            margin-bottom: 25px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .auth-modal input, 
        .auth-modal select,
        .auth-modal textarea {
            width: 100%;
            padding: 14px;
            margin: 8px 0;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            box-sizing: border-box;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .auth-modal input:focus, 
        .auth-modal select:focus,
        .auth-modal textarea:focus {
            border-color: var(--secondary);
            outline: none;
            box-shadow: 0 0 0 3px rgba(56, 182, 255, 0.2);
        }

        .auth-modal button {
            width: 100%;
            padding: 14px;
            background-color: var(--secondary);
            border: none;
            border-radius: 12px;
            color: white;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            margin-top: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(56, 182, 255, 0.3);
        }

        .auth-modal button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(56, 182, 255, 0.4);
        }

        .auth-modal .close {
            position: absolute;
            top: 20px;
            right: 20px;
            cursor: pointer;
            font-size: 24px;
            color: #999;
            transition: all 0.3s ease;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .auth-modal .close:hover {
            color: var(--accent);
            background: rgba(230, 57, 70, 0.1);
        }

        .auth-modal .switch-form {
            text-align: center;
            margin-top: 25px;
            font-size: 1rem;
            color: #666;
        }

        .auth-modal .switch-form a {
            color: var(--secondary);
            cursor: pointer;
            font-weight: 700;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .auth-modal .switch-form a:hover {
            color: var(--primary);
            text-decoration: underline;
        }

        /* Google Button Styles */
        .btn-google {
            width: 100%;
            padding: 14px;
            background: white;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            margin-top: 15px;
            transition: all 0.3s ease;
        }

        .btn-google:hover {
            border-color: #ddd;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        }

        .btn-google img {
            width: 20px;
            height: 20px;
        }

        /* Shopping Cart */
        .cart-icon {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background-color: var(--secondary);
            width: 70px;
            height: 70px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 8px 25px rgba(56, 182, 255, 0.4);
            cursor: pointer;
            z-index: 99;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .cart-icon:hover {
            transform: scale(1.1) rotate(5deg);
            box-shadow: 0 12px 30px rgba(56, 182, 255, 0.5);
        }

        .cart-icon i {
            font-size: 28px;
            color: white;
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--accent);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 700;
            box-shadow: 0 3px 10px rgba(230, 57, 70, 0.4);
        }

        /* Social Icons */
        .social-icons {
            position: fixed;
            bottom: 30px;
            left: 30px;
            display: flex;
            gap: 18px;
            z-index: 99;
        }

        .social-icons a {
            color: var(--primary);
            font-size: 26px;
            transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
            background: rgba(255, 255, 255, 0.9);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.15);
        }

        .social-icons a:hover {
            transform: translateY(-8px) scale(1.15);
            background: var(--secondary);
            color: white;
            box-shadow: 0 8px 20px rgba(56, 182, 255, 0.4);
        }

        /* Dark mode for social icons when on dark backgrounds */
        .dark-bg .social-icons a {
            color: white;
            background: rgba(0, 0, 0, 0.5);
        }

        .dark-bg .social-icons a:hover {
            background: var(--secondary);
            color: white;
        }

        /* Protected Content Overlay */
        .protected-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 1002;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            backdrop-filter: blur(10px);
        }

        .protected-content {
            background: white;
            padding: 40px;
            border-radius: 20px;
            text-align: center;
            color: var(--primary);
            max-width: 500px;
            width: 90%;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
            animation: modalFadeIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .protected-content h2 {
            font-size: 2.2rem;
            margin-bottom: 15px;
            color: var(--accent);
        }

        .protected-content p {
            font-size: 1.2rem;
            margin-bottom: 25px;
            color: #666;
        }

        /* Add to Cart Button */
        .add-to-cart {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--secondary);
            color: white;
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            z-index: 10;
        }

        .menu-item:hover .add-to-cart {
            opacity: 1;
            transform: scale(1.1);
        }

        .add-to-cart:hover {
            transform: scale(1.2);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.3);
        }

        .add-to-cart i {
            font-size: 18px;
        }

        /* Vendor Fields */
        #vendorFields {
            display: none;
            flex-direction: column;
            gap: 15px;
            margin: 20px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
            border: 2px dashed #e1e5e9;
        }

        #vendorFields input, 
        #vendorFields select, 
        #vendorFields textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
        }

        #vendorFields textarea {
            min-height: 100px;
            resize: vertical;
        }

        #vendorFields small {
            font-size: 0.9rem;
            color: #666;
            margin-top: -5px;
            margin-bottom: 5px;
            display: block;
        }

        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: 100px;
            right: 30px;
            background-color: var(--primary);
            color: white;
            padding: 16px 28px;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            z-index: 1003;
            animation: toastFade 4s forwards;
            display: none;
            max-width: 350px;
            font-weight: 500;
            border-left: 4px solid var(--secondary);
        }

        .toast.error {
            background-color: var(--accent);
            border-left-color: #c00;
        }

        .toast.success {
            background-color: var(--success);
            border-left-color: #2e7d32;
        }

        @keyframes toastFade {
            0% { opacity: 0; transform: translateX(100%); }
            10% { opacity: 1; transform: translateX(0); }
            90% { opacity: 1; transform: translateX(0); }
            100% { opacity: 0; transform: translateX(100%); }
        }

        /* Focus styles for accessibility */
        button:focus, a:focus, input:focus, select:focus, textarea:focus {
            outline: 3px solid var(--secondary);
            outline-offset: 2px;
        }

        /* Features Section */
        .features {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 80px 20px;
            text-align: center;
        }

        .features h2 {
            font-size: 2.5rem;
            margin-bottom: 50px;
            color: var(--primary);
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
            max-width: 1200px;
            margin: 0 auto;
        }

        .feature-card {
            background: white;
            padding: 40px 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.1);
        }

        .feature-icon {
            font-size: 3.5rem;
            color: var(--secondary);
            margin-bottom: 20px;
        }

        .feature-card h3 {
            font-size: 1.8rem;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .feature-card p {
            color: #666;
            font-size: 1.1rem;
            line-height: 1.7;
        }

        /* Restaurant Detail Page Styles */
        .restaurant-detail {
            padding: 40px 20px;
            max-width: 1400px;
            margin: 0 auto;
        }

        .back-button {
            display: inline-flex;
            align-items: center;
            margin-bottom: 30px;
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
            padding: 10px 20px;
            border-radius: 30px;
            background: white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
        }

        .back-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15);
        }

        .back-button i {
            margin-right: 8px;
        }

        .restaurant-header {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 40px;
        }

        .restaurant-hero {
            position: relative;
            height: 400px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
        }

        .restaurant-hero img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .restaurant-info {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        }

        .restaurant-title {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }

        .restaurant-title h1 {
            font-size: 2.5rem;
            color: var(--primary);
            margin-right: 20px;
        }

        .restaurant-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-bottom: 25px;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #666;
            font-size: 0.95rem;
        }

        .meta-item i {
            color: var(--secondary);
        }

        .restaurant-description {
            margin-bottom: 25px;
            line-height: 1.8;
            color: #555;
        }

        .restaurant-actions {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .menu-section {
            margin-top: 60px;
        }

        .menu-section h2 {
            font-size: 2.2rem;
            margin-bottom: 30px;
            color: var(--primary);
            position: relative;
            display: inline-block;
        }

        .menu-section h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 60px;
            height: 4px;
            background: var(--secondary);
            border-radius: 2px;
        }

        .menu-category {
            margin-bottom: 50px;
        }

        .menu-category h3 {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--primary);
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }

        .menu-items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 25px;
        }

        .menu-item-detail {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .menu-item-detail:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .menu-item-img-detail {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .menu-item-content-detail {
            padding: 20px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .menu-item-content-detail h4 {
            font-size: 1.4rem;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .menu-item-content-detail p {
            color: #666;
            margin-bottom: 15px;
            flex-grow: 1;
        }

        .menu-item-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 15px;
        }

        .price-detail {
            font-weight: 800;
            color: var(--accent);
            font-size: 1.4rem;
        }

        .add-to-cart-detail {
            background: var(--secondary);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 10px rgba(56, 182, 255, 0.3);
        }

        .add-to-cart-detail:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 15px rgba(56, 182, 255, 0.4);
        }

        .reviews-section {
            margin-top: 60px;
        }

        .reviews-section h2 {
            font-size: 2.2rem;
            margin-bottom: 30px;
            color: var(--primary);
            position: relative;
            display: inline-block;
        }

        .reviews-section h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 60px;
            height: 4px;
            background: var(--secondary);
            border-radius: 2px;
        }

        .review-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .reviewer {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .reviewer-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
        }

        .reviewer-info h4 {
            font-size: 1.1rem;
            margin-bottom: 5px;
        }

        .review-date {
            color: #888;
            font-size: 0.9rem;
        }

        .review-content p {
            line-height: 1.7;
            color: #555;
        }

        /* Checkout Modal */
        .checkout-modal {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
            z-index: 1001;
            width: 500px;
            max-width: 95%;
            max-height: 90vh;
            overflow-y: auto;
            animation: modalFadeIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .checkout-modal h2 {
            margin-top: 0;
            color: var(--primary);
            text-align: center;
            font-size: 2rem;
            margin-bottom: 25px;
        }

        .checkout-items {
            margin-bottom: 20px;
            max-height: 300px;
            overflow-y: auto;
        }

        .checkout-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #eee;
        }

        .checkout-total {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 700;
            font-size: 1.2rem;
            padding: 15px 0;
            border-top: 2px solid var(--secondary);
            margin-top: 10px;
        }

        /* Payment Form */
        .payment-form {
            margin-top: 20px;
        }

        .payment-options {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }

        .payment-option {
            flex: 1;
            padding: 15px;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .payment-option.active {
            border-color: var(--secondary);
            background-color: rgba(56, 182, 255, 0.1);
        }

        .payment-option i {
            font-size: 24px;
            margin-bottom: 10px;
            display: block;
        }

        /* Mobile optimizations */
        @media (max-width: 768px) {
            .hero {
                height: 400px;
                background-attachment: scroll;
            }
            
            .hero h1 {
                font-size: 2.5rem;
            }
            
            .hero p {
                font-size: 1.2rem;
            }
            
            .btn-container {
                flex-direction: column;
                align-items: center;
            }
            
            .menu h2 {
                font-size: 2.2rem;
            }
            
            .social-icons {
                bottom: 110px;
                left: 50%;
                transform: translateX(-50%);
            }
            
            .cart-icon {
                bottom: 20px;
                right: 20px;
                width: 60px;
                height: 60px;
            }
            
            .auth-modal {
                width: 95%;
                padding: 30px;
            }
            
            nav ul {
                gap: 10px;
            }
            
            .menu-items {
                grid-template-columns: 1fr;
                gap: 30px;
            }
            
            .restaurant-title {
                flex-direction: column;
                gap: 15px;
            }
            
            .restaurant-title h1 {
                font-size: 2rem;
            }
            
            .restaurant-hero {
                height: 250px;
            }
            
            .menu-items-grid {
                grid-template-columns: 1fr;
            }
            
            .restaurant-actions {
                flex-direction: column;
            }
            
            .payment-options {
                flex-direction: column;
            }
        }

        @media (max-width: 480px) {
            .hero {
                height: 350px;
            }
            
            .hero h1 {
                font-size: 2rem;
            }
            
            .logo {
                font-size: 2rem;
            }
            
            .brand-names {
                font-size: 1.5rem;
            }
            
            .menu h2 {
                font-size: 1.8rem;
            }
            
            .restaurant-info {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo-container">
            <div class="logo">
                <div class="logo-icon">
  <img src="munchies-logo.png" alt="Munchies Logo" style="height: 60px;">
</div>

                <span>Munchies & Shukisha</span>
            </div>
            <div class="brand-names">
                <span>Every bite's a party</span>
            </div>
        </div>
        <nav>
            <ul>
                <li><a href="#"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="#vendors"><i class="fas fa-utensils"></i> Vendors</a></li>
                <li><a href="#features"><i class="fas fa-star"></i> Features</a></li>
                <li id="authItem"><a href="#" id="authLink"><i class="fas fa-user"></i> Login</a></li>
                <li><a href="#"><i class="fas fa-phone"></i> Contact</a></li>
            </ul>
        </nav>
    </header>
    
    <main id="main-content">
        <!-- Home page content (default view) -->
        <div id="home-page">
            <section class="hero">
                <div class="hero-content">
                    <h1>Kenya's Local Chef Marketplace</h1>
                    <p>Order from home chefs & restaurants near you</p>
                    <div class="btn-container">
                        <a href="#vendors" class="btn">Browse Vendors</a>
                        <a href="#" class="btn btn-secondary" onclick="showSignupModal()">Sell Your Food</a>
                    </div>
                </div>
            </section>
            
            <section class="features" id="features">
                <h2>Why Choose Munchies & Shukisha?</h2>
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-utensils"></i>
                        </div>
                        <h3>Authentic Local Cuisine</h3>
                        <p>Discover the best home-cooked meals from talented chefs in your neighborhood, offering authentic flavors you can't find anywhere else.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-shipping-fast"></i>
                        </div>
                        <h3>Fast Delivery</h3>
                        <p>Get your favorite meals delivered to your doorstep in under 30 minutes with our efficient delivery network.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-shield-alt"></i>
                        </div>
                        <h3>Quality Assured</h3>
                        <p>All our vendors are verified and regularly inspected to ensure the highest standards of food safety and quality.</p>
                    </div>
                </div>
            </section>
            
            <section class="menu" id="vendors">
                <div class="menu-header">
                    <h2>Featured Vendors</h2>
                    <p>Discover amazing home chefs and restaurants in your area</p>
                </div>
                <div class="menu-items">
                    <div class="menu-item" onclick="showRestaurantDetail('chef-aminas-pilau')">
                        <button class="add-to-cart" onclick="event.stopPropagation(); addToCart('Chef Amina\'s Pilau', 499)">
                            <i class="fas fa-plus"></i>
                        </button>
                        <img src="https://images.unsplash.com/photo-1606787366850-de6330128bfc?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Chef Amina" class="menu-item-img" loading="lazy">
                        <div class="menu-item-content">
                            <span class="vendor-badge">Home Chef</span>
                            <h3>Chef Amina's Pilau</h3>
                            <p>Spiced rice with tender meat, slow-cooked to perfection with traditional Kenyan spices.</p>
                            <div class="rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="far fa-star"></i>
                                <span>(24 reviews)</span>
                            </div>
                            <p class="price">KSh 499</p>
                            <button class="btn" onclick="event.stopPropagation(); addToCart('Chef Amina\'s Pilau', 499)">Add to Cart</button>
                        </div>
                    </div>
                    
                    <div class="menu-item" onclick="showRestaurantDetail('biryani-special')">
                        <button class="add-to-cart" onclick="event.stopPropagation(); addToCart('Biryani Special', 699)">
                            <i class="fas fa-plus"></i>
                        </button>
                        <img src="https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Biryani House" class="menu-item-img" loading="lazy">
                        <div class="menu-item-content">
                            <span class="vendor-badge">Restaurant</span>
                            <h3>Biryani Special</h3>
                            <p>Fragrant basmati rice with spices, tender meat, and aromatic herbs - a true culinary masterpiece.</p>
                            <div class="rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="far fa-star"></i>
                                <span>(56 reviews)</span>
                            </div>
                            <p class="price">KSh 699</p>
                            <button class="btn" onclick="event.stopPropagation(); addToCart('Biryani Special', 699)">Add to Cart</button>
                        </div>
                    </div>
                    
                    <div class="menu-item" onclick="showRestaurantDetail('mama-pikas-mandazi')">
                        <button class="add-to-cart" onclick="event.stopPropagation(); addToCart('Mama Pika\'s Mandazi', 299)">
                            <i class="fas fa-plus"></i>
                        </button>
                        <img src="https://images.unsplash.com/photo-1562440499-64c9a111f713?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Mama Pika Bakery" class="menu-item-img" loading="lazy">
                        <div class="menu-item-content">
                            <span class="vendor-badge">Bakery</span>
                            <h3>Mama Pika's Mandazi</h3>
                            <p>Fluffy coconut doughnuts, freshly made daily with premium ingredients and traditional recipes.</p>
                            <div class="rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <span>(38 reviews)</span>
                            </div>
                            <p class="price">KSh 299</p>
                            <button class="btn" onclick="event.stopPropagation(); addToCart('Mama Pika\'s Mandazi', 299)">Add to Cart</button>
                        </div>
                    </div>
                    
                    <div class="menu-item" onclick="showRestaurantDetail('nyama-choma-special')">
                        <button class="add-to-cart" onclick="event.stopPropagation(); addToCart('Nyama Choma Special', 899)">
                            <i class="fas fa-plus"></i>
                        </button>
                        <img src="https://images.unsplash.com/photo-1599487488170-d11ec9c172f0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80" alt="Nyama Choma House" class="menu-item-img" loading="lazy">
                        <div class="menu-item-content">
                            <span class="vendor-badge">Restaurant</span>
                            <h3>Nyama Choma Special</h3>
                            <p>Premium grilled meat served with ugali, kachumbari, and traditional Kenyan sides.</p>
                            <div class="rating">
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star"></i>
                                <i class="fas fa-star-half-alt"></i>
                                <span>(42 reviews)</span>
                            </div>
                            <p class="price">KSh 899</p>
                            <button class="btn" onclick="event.stopPropagation(); addToCart('Nyama Choma Special', 899)">Add to Cart</button>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Restaurant Detail Page (hidden by default) -->
        <div id="restaurant-detail-page" class="restaurant-detail" style="display: none;">
            <!-- Content will be dynamically populated by JavaScript -->
        </div>
    </main>

    <!-- Protected Content Overlay -->
    <div class="protected-overlay" id="protectedOverlay">
        <div class="protected-content">
            <h2>Please Sign In</h2>
            <p>You need to be logged in to make purchases</p>
            <button onclick="showLoginModal()" class="btn">Login</button>
            <p>Don't have an account? <a href="#" onclick="showSignupModal()">Sign up</a></p>
        </div>
    </div>

    <!-- Shopping Cart -->
    <div class="cart-icon" onclick="showCart()">
        <i class="fas fa-shopping-cart"></i>
        <div class="cart-count" id="cartCount">0</div>
    </div>

    <!-- Social Icons -->
    <div class="social-icons">
        <a href="#" title="Facebook"><i class="fab fa-facebook-f"></i></a>
        <a href="#" title="Instagram"><i class="fab fa-instagram"></i></a>
        <a href="#" title="Twitter"><i class="fab fa-twitter"></i></a>
        <a href="#" title="TikTok"><i class="fab fa-tiktok"></i></a>
    </div>
    
    <footer>
        <p>&copy; <span id="currentYear">2023</span> Munchies & Shukisha. All rights reserved.</p>
    </footer>

    <!-- Auth Modals -->
    <div class="overlay" id="overlay"></div>
    
    <div class="auth-modal" id="loginModal">
        <span class="close" onclick="closeModals()">×</span>
        <h2>Welcome Back</h2>
        <div class="form-group">
            <input type="email" id="loginEmail" placeholder="Email Address">
        </div>
        <div class="form-group">
            <input type="password" id="loginPassword" placeholder="Password">
        </div>
        <button onclick="login()">Login</button>
        <button class="btn-google" onclick="signInWithGoogle()">
            <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google">
            Sign in with Google
        </button>
        <div class="switch-form">
            Don't have an account? <a onclick="switchToSignup()">Sign up</a>
        </div>
    </div>
    
    <div class="auth-modal" id="signupModal">
        <span class="close" onclick="closeModals()">×</span>
        <h2>Create Account</h2>
        <div class="form-group">
            <input type="text" id="signupName" placeholder="Full Name">
        </div>
        <div class="form-group">
            <input type="email" id="signupEmail" placeholder="Email Address">
        </div>
        <div class="form-group">
            <input type="password" id="signupPassword" placeholder="Password">
        </div>
        <div class="form-group">
            <select id="userType" onchange="toggleVendorFields()">
                <option value="buyer">I'm a Buyer</option>
                <option value="seller">I'm a Seller</option>
            </select>
        </div>
        
        <!-- Vendor-specific fields (hidden by default) -->
        <div id="vendorFields">
            <div class="form-group">
                <input type="text" id="businessName" placeholder="Business Name">
            </div>
            <div class="form-group">
                <input type="text" id="businessLocation" placeholder="Business Location">
            </div>
            <div class="form-group">
                <input type="text" id="foodHandlersCert" placeholder="Food Handler's Certificate No.">
            </div>
            <div class="form-group">
                <input type="text" id="kraPin" placeholder="KRA PIN">
            </div>
            <div class="form-group">
                <textarea id="description" placeholder="Describe your food business"></textarea>
            </div>
            <div class="form-group">
                <select id="deliveryMethod">
                    <option value="">Delivery Method</option>
                    <option value="self">Self-Delivery</option>
                    <option value="platform">Platform Delivery</option>
                    <option value="both">Both</option>
                </select>
            </div>
            <div class="form-group">
                <input type="file" id="businessPermit" accept="image/*,.pdf">
                <small>Upload your business permit (image or PDF)</small>
            </div>
        </div>
        
        <button onclick="signup()">Create Account</button>
        <button class="btn-google" onclick="signInWithGoogle()">
            <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google">
            Sign up with Google
        </button>
        <div class="switch-form">
            Already have an account? <a onclick="switchToLogin()">Login</a>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div class="checkout-modal" id="checkoutModal">
        <span class="close" onclick="closeCheckout()">×</span>
        <h2>Checkout</h2>
        <div class="checkout-items" id="checkoutItems">
            <!-- Cart items will be populated here -->
        </div>
        <div class="checkout-total">
            <span>Total:</span>
            <span id="checkoutTotal">KSh 0</span>
        </div>
        
        <div class="payment-form">
            <h3>Payment Method</h3>
            <div class="payment-options">
                <div class="payment-option" onclick="selectPayment('mpesa')">
                    <i class="fas fa-mobile-alt"></i>
                    <span>M-Pesa</span>
                </div>
                <div class="payment-option" onclick="selectPayment('card')">
                    <i class="fas fa-credit-card"></i>
                    <span>Card</span>
                </div>
                <div class="payment-option" onclick="selectPayment('cash')">
                    <i class="fas fa-money-bill-wave"></i>
                    <span>Cash</span>
                </div>
            </div>
            
            <div id="mpesaForm" style="display: none;">
                <div class="form-group">
                    <input type="tel" placeholder="Phone Number" id="mpesaPhone">
                </div>
                <button onclick="payWithMpesa()" class="btn">Pay with M-Pesa</button>
            </div>
            
            <div id="cardForm" style="display: none;">
                <div class="form-group">
                    <input type="text" placeholder="Card Number" id="cardNumber">
                </div>
                <div style="display: flex; gap: 10px;">
                    <div class="form-group" style="flex: 1;">
                        <input type="text" placeholder="MM/YY" id="cardExpiry">
                    </div>
                    <div class="form-group" style="flex: 1;">
                        <input type="text" placeholder="CVV" id="cardCvv">
                    </div>
                </div>
                <button onclick="payWithCard()" class="btn">Pay with Card</button>
            </div>
            
            <div id="cashForm" style="display: none;">
                <p>Pay with cash when your order is delivered</p>
                <button onclick="placeOrder()" class="btn">Place Order</button>
            </div>
        </div>
    </div>

    <script>
        // Restaurant data (would typically come from a database)
        const restaurants = {
            'chef-aminas-pilau': {
                id: 'chef-aminas-pilau',
                name: "Chef Amina's Pilau",
                type: "Home Chef",
                heroImage: "https://images.unsplash.com/photo-1606787366850-de6330128bfc?ixlib=rb-1.2.1&auto=format&fit=crop&w=1600&q=80",
                rating: 4,
                reviewCount: 24,
                description: "Experience authentic Kenyan pilau made with love and traditional spices. Chef Amina brings generations of family recipes to your table with her signature slow-cooking method that ensures every grain of rice is infused with flavor.",
                location: "Nairobi, Westlands",
                deliveryTime: "30-45 min",
                deliveryFee: "KSh 100",
                minOrder: "KSh 300",
                menu: {
                    "Main Dishes": [
                        {
                            name: "Signature Pilau",
                            description: "Fragrant spiced rice with tender beef, served with kachumbari salad",
                            price: 499,
                            image: "https://images.unsplash.com/photo-1606787366850-de6330128bfc?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        },
                        {
                            name: "Chicken Pilau",
                            description: "Aromatic rice with succulent chicken pieces and traditional spices",
                            price: 450,
                            image: "https://images.unsplash.com/photo-1513104890138-7c749659a591?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        },
                        {
                            name: "Vegetable Pilau",
                            description: "Flavorful rice dish with seasonal vegetables and mild spices",
                            price: 350,
                            image: "https://images.unsplash.com/photo-1533089860892-a7c6f0a88666?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        }
                    ],
                    "Sides": [
                        {
                            name: "Kachumbari Salad",
                            description: "Fresh tomato and onion salad with a hint of lime",
                            price: 100,
                            image: "https://images.unsplash.com/photo-1513104890138-7c749659a591?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        },
                        {
                            name: "Coconut Chutney",
                            description: "Creamy coconut sauce with herbs and spices",
                            price: 80,
                            image: "https://images.unsplash.com/photo-1476224203421-9ac39bcb3327?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        }
                    ]
                },
                reviews: [
                    {
                        user: "James Mwangi",
                        avatar: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80",
                        rating: 5,
                        date: "2 weeks ago",
                        comment: "The best pilau I've had in Nairobi! The flavors are authentic and the meat is always tender. Highly recommend!"
                    },
                    {
                        user: "Sarah Ochieng",
                        avatar: "https://images.unsplash.com/photo-1544005313-94ddf0286df2?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80",
                        rating: 4,
                        date: "1 month ago",
                        comment: "Consistently good food. The vegetable pilau is my favorite - so flavorful even without meat!"
                    }
                ]
            },
            'biryani-special': {
                id: 'biryani-special',
                name: "Biryani Special",
                type: "Restaurant",
                heroImage: "https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-1.2.1&auto=format&fit=crop&w=1600&q=80",
                rating: 4,
                reviewCount: 56,
                description: "Authentic Indian and Kenyan fusion biryani made with premium basmati rice, tender meat, and a secret blend of spices. Each biryani is prepared in the traditional dum style for maximum flavor infusion.",
                location: "Nairobi, CBD",
                deliveryTime: "40-55 min",
                deliveryFee: "KSh 150",
                minOrder: "KSh 500",
                menu: {
                    "Biryani Selection": [
                        {
                            name: "Hyderabadi Biryani",
                            description: "Famous spicy biryani with marinated meat and saffron-infused rice",
                            price: 699,
                            image: "https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        },
                        {
                            name: "Chicken Biryani",
                            description: "Fragrant rice with tender chicken pieces and aromatic spices",
                            price: 650,
                            image: "https://images.unsplash.com/photo-1630918037678-a8f7e0f9e5c9?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        },
                        {
                            name: "Vegetable Biryani",
                            description: "Colorful biryani with assorted vegetables and mild spices",
                            price: 550,
                            image: "https://images.unsplash.com/photo-1589302168068-964664d93dc0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        }
                    ],
                    "Accompaniments": [
                        {
                            name: "Raita",
                            description: "Cooling yogurt with cucumber and mint",
                            price: 120,
                            image: "https://images.unsplash.com/photo-1608248543822-5fb50d6cf75e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        },
                        {
                            name: "Mirchi Ka Salan",
                            description: "Spicy chili curry from Hyderabad",
                            price: 150,
                            image: "https://images.unsplash.com/photo-1563379091339-03246963d9fb?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        }
                    ]
                },
                reviews: [
                    {
                        user: "Raj Patel",
                        avatar: "https://images.unsplash.com/photo-1500648767791-00dcc994a43e?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80",
                        rating: 5,
                        date: "3 days ago",
                        comment: "Authentic Hyderabadi flavors! The biryani reminds me of home. The meat is perfectly cooked and the spices are well balanced."
                    },
                    {
                        user: "Fatima Ali",
                        avatar: "https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80",
                        rating: 4,
                        date: "2 weeks ago",
                        comment: "Great biryani! The portion size is generous and the delivery was prompt. Will definitely order again."
                    }
                ]
            },
            'mama-pikas-mandazi': {
                id: 'mama-pikas-mandazi',
                name: "Mama Pika's Mandazi",
                type: "Bakery",
                heroImage: "https://images.unsplash.com/photo-1562440499-64c9a111f713?ixlib=rb-1.2.1&auto=format&fit=crop&w=1600&q=80",
                rating: 5,
                reviewCount: 38,
                description: "Freshly made mandazi (East African doughnuts) using a generations-old family recipe. Our mandazi are light, fluffy, and slightly sweet with a hint of coconut - perfect for breakfast or as a snack any time of day.",
                location: "Nairobi, Eastleigh",
                deliveryTime: "20-35 min",
                deliveryFee: "KSh 80",
                minOrder: "KSh 200",
                menu: {
                    "Mandazi Varieties": [
                        {
                            name: "Classic Mandazi (6 pcs)",
                            description: "Traditional coconut mandazi, lightly sweetened",
                            price: 299,
                            image: "https://images.unsplash.com/photo-1562440499-64c9a111f713?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        },
                        {
                            name: "Spiced Mandazi (6 pcs)",
                            description: "Cardamom and cinnamon infused mandazi",
                            price: 320,
                            image: "https://images.unsplash.com/photo-1589302168068-964664d93dc0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        },
                        {
                            name: "Stuffed Mandazi (4 pcs)",
                            description: "Mandazi filled with your choice of beef, chicken, or vegetable",
                            price: 350,
                            image: "https://images.unsplash.com/photo-1550317138-10000687a72f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        }
                    ],
                    "Beverages": [
                        {
                            name: "Chai Masala",
                            description: "Spiced tea brewed with ginger, cardamom, and cinnamon",
                            price: 100,
                            image: "https://images.unsplash.com/photo-1564890369478-c89ca6d9cde9?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        },
                        {
                            name: "Fresh Juice",
                            description: "Seasonal fruit juice (passion, mango, or orange)",
                            price: 150,
                            image: "https://images.unsplash.com/photo-1613478223719-2ab802602423?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        }
                    ]
                },
                reviews: [
                    {
                        user: "Lydia Wanjiku",
                        avatar: "https://images.unsplash.com/photo-1544725176-7c40e5a71c5e?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80",
                        rating: 5,
                        date: "1 week ago",
                        comment: "The best mandazi in Nairobi! So light and fluffy, not greasy at all. The coconut flavor is just perfect."
                    },
                    {
                        user: "David Kimani",
                        avatar: "https://images.unsplash.com/photo-1506794778202-cad84cf45f1d?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80",
                        rating: 5,
                        date: "3 weeks ago",
                        comment: "I order these every Sunday for breakfast. My whole family loves them. The stuffed mandazi with beef is our favorite!"
                    }
                ]
            },
            'nyama-choma-special': {
                id: 'nyama-choma-special',
                name: "Nyama Choma Special",
                type: "Restaurant",
                heroImage: "https://images.unsplash.com/photo-1599487488170-d11ec9c172f0?ixlib=rb-1.2.1&auto=format&fit=crop&w=1600&q=80",
                rating: 4.5,
                reviewCount: 42,
                description: "Authentic Kenyan nyama choma (grilled meat) experience. We source our meat from trusted local farmers and grill it to perfection over charcoal for that distinctive smoky flavor. Served with traditional sides like ugali and kachumbari.",
                location: "Nairobi, Kileleshwa",
                deliveryTime: "45-60 min",
                deliveryFee: "KSh 200",
                minOrder: "KSh 600",
                menu: {
                    "Nyama Choma": [
                        {
                            name: "Beef Nyama Choma (500g)",
                            description: "Tender beef ribs grilled over charcoal, served with kachumbari",
                            price: 899,
                            image: "https://images.unsplash.com/photo-1599487488170-d11ec9c172f0?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        },
                        {
                            name: "Goat Meat (500g)",
                            description: "Succulent goat meat, marinated and grilled to perfection",
                            price: 950,
                            image: "https://images.unsplash.com/photo-1558036117-15e82a2c9a9a?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        },
                        {
                            name: "Chicken Quarter",
                            description: "Whole chicken quarter grilled with secret spice rub",
                            price: 650,
                            image: "https://images.unsplash.com/photo-1604503468725-5c2b4c61eb0f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        }
                    ],
                    "Sides": [
                        {
                            name: "Ugali",
                            description: "Traditional maize meal accompaniment",
                            price: 80,
                            image: "https://images.unsplash.com/photo-1570194065655-a4c31d104e89?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        },
                        {
                            name: "Kachumbari",
                            description: "Fresh tomato and onion salad with cilantro and lime",
                            price: 100,
                            image: "https://images.unsplash.com/photo-1513104890138-7c749659a591?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        },
                        {
                            name: "Sukuma Wiki",
                            description: "Sautéed kale with tomatoes and onions",
                            price: 120,
                            image: "https://images.unsplash.com/photo-1570194065655-a4c31d104e89?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"
                        }
                    ]
                },
                reviews: [
                    {
                        user: "Michael Otieno",
                        avatar: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80",
                        rating: 5,
                        date: "5 days ago",
                        comment: "Authentic nyama choma experience at home! The meat was perfectly grilled and still juicy when it arrived. The kachumbari was fresh and flavorful."
                    },
                    {
                        user: "Grace Akinyi",
                        avatar: "https://images.unsplash.com/photo-1487412720507-e7ab37603c6f?ixlib=rb-1.2.1&auto=format&fit=crop&w=200&q=80",
                        rating: 4,
                        date: "2 weeks ago",
                        comment: "Great flavor and generous portions. The goat meat was tender and well-seasoned. Will definitely order again for our next family gathering."
                    }
                ]
            }
        };

        // Set current year in footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // DOM Elements
        const authLink = document.getElementById('authLink');
        const authItem = document.getElementById('authItem');
        const overlay = document.getElementById('overlay');
        const loginModal = document.getElementById('loginModal');
        const signupModal = document.getElementById('signupModal');
        const protectedOverlay = document.getElementById('protectedOverlay');
        const cartCount = document.getElementById('cartCount');
        const homePage = document.getElementById('home-page');
        const restaurantDetailPage = document.getElementById('restaurant-detail-page');
        const checkoutModal = document.getElementById('checkoutModal');
        const checkoutItems = document.getElementById('checkoutItems');
        const checkoutTotal = document.getElementById('checkoutTotal');

        // Cart state
        let cart = [];
        let isLoggedIn = false;
        let selectedPaymentMethod = '';

        // Initialize the page
        function init() {
            loadCart();
            checkBackgroundColor();
        }

        // Load cart from localStorage on page load
        function loadCart() {
            try {
                const savedCart = sessionStorage.getItem('cart');
                if (savedCart) {
                    cart = JSON.parse(savedCart);
                    updateCartCount();
                }
            } catch (error) {
                console.error("Error loading cart:", error);
            }
        }

        // Save cart to localStorage
        function saveCart() {
            try {
                sessionStorage.setItem('cart', JSON.stringify(cart));
            } catch (error) {
                console.error("Error saving cart:", error);
            }
        }

        // Check background color for social icons
        function checkBackgroundColor() {
            try {
                const heroSection = document.querySelector('.hero');
                const socialIcons = document.querySelector('.social-icons');
                
                if (!heroSection || !socialIcons) return;
                
                // Get position of social icons
                const rect = socialIcons.getBoundingClientRect();
                const centerY = rect.top + (rect.height / 2);
                
                // Get element at that position
                const elementAtCenter = document.elementFromPoint(rect.left + (rect.width / 2), centerY);
                
                // Check if it's the hero section (dark background)
                if (elementAtCenter === heroSection || heroSection.contains(elementAtCenter)) {
                    document.body.classList.add('dark-bg');
                } else {
                    document.body.classList.remove('dark-bg');
                }
            } catch (error) {
                console.error("Error checking background color:", error);
            }
        }

        // Toggle vendor fields visibility
        function toggleVendorFields() {
            try {
                const userType = document.getElementById('userType').value;
                const vendorFields = document.getElementById('vendorFields');
                
                if (userType === 'seller') {
                    vendorFields.style.display = 'flex';
                } else {
                    vendorFields.style.display = 'none';
                }
            } catch (error) {
                console.error("Error toggling vendor fields:", error);
            }
        }

        // Show restaurant detail page
        function showRestaurantDetail(restaurantId) {
            try {
                const restaurant = restaurants[restaurantId];
                if (!restaurant) return;
                
                // Hide home page, show detail page
                homePage.style.display = 'none';
                restaurantDetailPage.style.display = 'block';
                
                // Scroll to top
                window.scrollTo(0, 0);
                
                // Generate restaurant detail HTML
                let detailHTML = `
                    <a href="#" class="back-button" onclick="goBackToHome(); return false;">
                        <i class="fas fa-arrow-left"></i> Back to Vendors
                    </a>
                    
                    <div class="restaurant-header">
                        <div class="restaurant-hero">
                            <img src="${restaurant.heroImage}" alt="${restaurant.name}">
                        </div>
                        
                        <div class="restaurant-info">
                            <div class="restaurant-title">
                                <h1>${restaurant.name}</h1>
                                <span class="vendor-badge">${restaurant.type}</span>
                            </div>
                            
                            <div class="restaurant-meta">
                                <div class="meta-item">
                                    <i class="fas fa-star"></i>
                                    <span>${restaurant.rating} (${restaurant.reviewCount} reviews)</span>
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-map-marker-alt"></i>
                                    <span>${restaurant.location}</span>
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-clock"></i>
                                    <span>${restaurant.deliveryTime}</span>
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-truck"></i>
                                    <span>Delivery: ${restaurant.deliveryFee}</span>
                                </div>
                                <div class="meta-item">
                                    <i class="fas fa-shopping-bag"></i>
                                    <span>Min order: ${restaurant.minOrder}</span>
                                </div>
                            </div>
                            
                            <div class="restaurant-description">
                                <p>${restaurant.description}</p>
                            </div>
                            
                            <div class="restaurant-actions">
                                <button class="btn" onclick="showToast('Restaurant added to favorites!')">
                                    <i class="far fa-heart"></i> Add to Favorites
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="menu-section">
                        <h2>Menu</h2>
                `;
                
                // Add menu categories and items
                for (const [category, items] of Object.entries(restaurant.menu)) {
                    detailHTML += `
                        <div class="menu-category">
                            <h3>${category}</h3>
                            <div class="menu-items-grid">
                    `;
                    
                    items.forEach(item => {
                        detailHTML += `
                            <div class="menu-item-detail">
                                <img src="${item.image}" alt="${item.name}" class="menu-item-img-detail">
                                <div class="menu-item-content-detail">
                                    <h4>${item.name}</h4>
                                    <p>${item.description}</p>
                                    <div class="menu-item-footer">
                                        <span class="price-detail">KSh ${item.price}</span>
                                        <button class="add-to-cart-detail" onclick="addToCart('${item.name}', ${item.price})">
                                            <i class="fas fa-plus"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        `;
                    });
                    
                    detailHTML += `
                            </div>
                        </div>
                    `;
                }
                
                detailHTML += `
                    </div>
                    
                    <div class="reviews-section">
                        <h2>Customer Reviews</h2>
                `;
                
                // Add reviews
                restaurant.reviews.forEach(review => {
                    let stars = '';
                    for (let i = 1; i <= 5; i++) {
                        stars += `<i class="fas ${i <= review.rating ? 'fa-star' : 'fa-star-half-alt'}"></i>`;
                    }
                    
                    detailHTML += `
                        <div class="review-card">
                            <div class="review-header">
                                <div class="reviewer">
                                    <img src="${review.avatar}" alt="${review.user}" class="reviewer-avatar">
                                    <div class="reviewer-info">
                                        <h4>${review.user}</h4>
                                        <div class="rating">${stars}</div>
                                    </div>
                                </div>
                                <span class="review-date">${review.date}</span>
                            </div>
                            <div class="review-content">
                                <p>${review.comment}</p>
                            </div>
                        </div>
                    `;
                });
                
                detailHTML += `
                    </div>
                `;
                
                // Set the HTML content
                restaurantDetailPage.innerHTML = detailHTML;
            } catch (error) {
                console.error("Error showing restaurant detail:", error);
                showToast("Error loading restaurant details", true);
            }
        }

        // Go back to home page
        function goBackToHome() {
            homePage.style.display = 'block';
            restaurantDetailPage.style.display = 'none';
            window.scrollTo(0, 0);
        }

        // Auth state listener
        // Simulated auth state for demo purposes
        function simulateAuthState() {
            // In a real app, this would be replaced with Firebase auth
            if (sessionStorage.getItem('isLoggedIn') === 'true') {
                isLoggedIn = true;
                authLink.innerHTML = '<i class="fas fa-sign-out-alt"></i> Logout';
                authLink.onclick = logout;
            } else {
                isLoggedIn = false;
                authLink.innerHTML = '<i class="fas fa-user"></i> Login';
                authLink.onclick = showLoginModal;
            }
        }

        // Show login modal
        function showLoginModal() {
            try {
                closeModals();
                overlay.style.display = 'block';
                loginModal.style.display = 'block';
                protectedOverlay.style.display = 'none';
                document.getElementById('loginEmail').focus();
            } catch (error) {
                console.error("Error showing login modal:", error);
            }
        }

        // Show signup modal
        function showSignupModal() {
            try {
                closeModals();
                overlay.style.display = 'block';
                signupModal.style.display = 'block';
                protectedOverlay.style.display = 'none';
                document.getElementById('signupName').focus();
            } catch (error) {
                console.error("Error showing signup modal:", error);
            }
        }

        // Close all modals
        function closeModals() {
            try {
                overlay.style.display = 'none';
                loginModal.style.display = 'none';
                signupModal.style.display = 'none';
            } catch (error) {
                console.error("Error closing modals:", error);
            }
        }

        // Switch to signup form
        function switchToSignup() {
            try {
                loginModal.style.display = 'none';
                signupModal.style.display = 'block';
                document.getElementById('signupName').focus();
            } catch (error) {
                console.error("Error switching to signup:", error);
            }
        }

        // Switch to login form
        function switchToLogin() {
            try {
                signupModal.style.display = 'none';
                loginModal.style.display = 'block';
                document.getElementById('loginEmail').focus();
            } catch (error) {
                console.error("Error switching to login:", error);
            }
        }

        // Login function
        function login() {
            try {
                const email = document.getElementById('loginEmail').value;
                const password = document.getElementById('loginPassword').value;

                if (!email || !password) {
                    showToast("Please fill in all fields", true);
                    return;
                }

                showToast("Logging in...");
                
                // Simulate login process
                setTimeout(() => {
                    sessionStorage.setItem('isLoggedIn', 'true');
                    simulateAuthState();
                    closeModals();
                    showToast("Login successful!", false, 'success');
                    isLoggedIn = true;
                }, 1000);
            } catch (error) {
                console.error("Login error:", error);
                showToast("An unexpected error occurred", true);
            }
        }

        // Signup function
        function signup() {
            try {
                const name = document.getElementById('signupName').value;
                const email = document.getElementById('signupEmail').value;
                const password = document.getElementById('signupPassword').value;
                const userType = document.getElementById('userType').value;

                // Basic validation
                if (!name || !email || !password) {
                    showToast("Please fill in all required fields", true);
                    return;
                }

                // Additional validation for sellers
                if (userType === 'seller') {
                    const businessName = document.getElementById('businessName').value;
                    const businessLocation = document.getElementById('businessLocation').value;
                    const foodHandlersCert = document.getElementById('foodHandlersCert').value;
                    
                    if (!businessName || !businessLocation || !foodHandlersCert) {
                        showToast("As a seller, please provide your business details for verification", true);
                        return;
                    }
                }

                showToast("Creating account...");
                
                // Simulate signup process
                setTimeout(() => {
                    sessionStorage.setItem('isLoggedIn', 'true');
                    simulateAuthState();
                    closeModals();
                    if (userType === 'seller') {
                        showToast("Account created! Seller verification pending.", false, 'success');
                    } else {
                        showToast("Account created successfully!", false, 'success');
                    }
                    isLoggedIn = true;
                }, 1500);
            } catch (error) {
                console.error("Signup error:", error);
                showToast("An unexpected error occurred", true);
            }
        }

        // Google sign-in
        function signInWithGoogle() {
            try {
                showToast("Signing in with Google...");
                
                // Simulate Google login process
                setTimeout(() => {
                    sessionStorage.setItem('isLoggedIn', 'true');
                    simulateAuthState();
                    closeModals();
                    showToast("Google login successful!", false, 'success');
                    isLoggedIn = true;
                }, 1200);
            } catch (error) {
                console.error("Google sign-in error:", error);
                showToast("An unexpected error occurred", true);
            }
        }

        // Logout function
        function logout() {
            try {
                showToast("Logging out...");
                setTimeout(() => {
                    sessionStorage.removeItem('isLoggedIn');
                    simulateAuthState();
                    showToast("Logged out successfully", false, 'success');
                    isLoggedIn = false;
                    cart = [];
                    updateCartCount();
                    saveCart();
                }, 800);
            } catch (error) {
                console.error("Logout error:", error);
                showToast("An unexpected error occurred", true);
            }
        }

        // Add to cart function
        function addToCart(itemName, itemPrice) {
            try {
                if (!isLoggedIn) {
                    protectedOverlay.style.display = 'flex';
                    return;
                }

                cart.push({
                    name: itemName,
                    price: itemPrice,
                    id: Date.now().toString()
                });
                updateCartCount();
                saveCart();
                
                showToast(`${itemName} added to cart!`, false, 'success');
            } catch (error) {
                console.error("Add to cart error:", error);
                showToast("Error adding item to cart", true);
            }
        }

        // Remove from cart function
        function removeFromCart(itemId) {
            try {
                cart = cart.filter(item => item.id !== itemId);
                updateCartCount();
                saveCart();
                showToast("Item removed from cart");
            } catch (error) {
                console.error("Remove from cart error:", error);
                showToast("Error removing item from cart", true);
            }
        }

        // Update cart count
        function updateCartCount() {
            try {
                cartCount.textContent = cart.length;
                cartCount.style.display = cart.length > 0 ? 'flex' : 'none';
            } catch (error) {
                console.error("Update cart count error:", error);
            }
        }

        // Show cart
        function showCart() {
            try {
                if (!isLoggedIn) {
                    protectedOverlay.style.display = 'flex';
                    return;
                }

                if (cart.length === 0) {
                    showToast("Your cart is empty!");
                    return;
                }

                // Create cart modal
                const cartModal = document.createElement('div');
                cartModal.className = 'auth-modal';
                cartModal.style.display = 'block';
                cartModal.setAttribute('aria-modal', 'true');
                cartModal.setAttribute('role', 'dialog');
                
                let cartContent = `
                    <span class="close" onclick="this.parentElement.remove(); document.querySelector('.overlay:not(#overlay)').remove()">×</span>
                    <h2>Your Cart</h2>
                    <div style="max-height: 300px; overflow-y: auto; margin-bottom: 20px;">
                `;
                
                let total = 0;
                
                cart.forEach(item => {
                    cartContent += `
                        <div style="display: flex; justify-content: space-between; align-items: center; padding: 15px; border-bottom: 1px solid #eee;">
                            <div>
                                <h3 style="margin: 0 0 5px; font-size: 1.1rem;">${item.name}</h3>
                                <p style="margin: 0; color: #666;">KSh ${item.price}</p>
                            </div>
                            <button onclick="removeFromCart('${item.id}')" style="background: var(--accent); color: white; border: none; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; cursor: pointer;">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    `;
                    total += item.price;
                });

                cartContent += `
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center; font-weight: 700; font-size: 1.2rem; padding: 10px 0; border-top: 2px solid var(--secondary);">
                        <span>Total:</span>
                        <span>KSh ${total}</span>
                    </div>
                    <button onclick="showCheckout()" class="btn" style="margin-top: 20px;">Proceed to Checkout</button>
                `;
                
                cartModal.innerHTML = cartContent;
                document.body.appendChild(cartModal);
                
                // Add overlay
                const cartOverlay = document.createElement('div');
                cartOverlay.className = 'overlay';
                cartOverlay.style.display = 'block';
                cartOverlay.onclick = () => {
                    cartModal.remove();
                    cartOverlay.remove();
                };
                document.body.appendChild(cartOverlay);
            } catch (error) {
                console.error("Show cart error:", error);
                showToast("Error displaying cart", true);
            }
        }

        // Show checkout modal
        function showCheckout() {
            try {
                // Close cart modal first
                document.querySelector('.auth-modal').remove();
                document.querySelector('.overlay').remove();
                
                // Calculate total
                let total = 0;
                let itemsHTML = '';
                
                cart.forEach(item => {
                    itemsHTML += `
                        <div class="checkout-item">
                            <span>${item.name}</span>
                            <span>KSh ${item.price}</span>
                        </div>
                    `;
                    total += item.price;
                });
                
                // Update checkout items and total
                checkoutItems.innerHTML = itemsHTML;
                checkoutTotal.textContent = `KSh ${total}`;
                
                // Show checkout modal
                overlay.style.display = 'block';
                checkoutModal.style.display = 'block';
            } catch (error) {
                console.error("Show checkout error:", error);
                showToast("Error loading checkout", true);
            }
        }

        // Close checkout modal
        function closeCheckout() {
            checkoutModal.style.display = 'none';
            overlay.style.display = 'none';
        }

        // Select payment method
        function selectPayment(method) {
            selectedPaymentMethod = method;
            
            // Remove active class from all options
            document.querySelectorAll('.payment-option').forEach(option => {
                option.classList.remove('active');
            });
            
            // Add active class to selected option
            event.target.closest('.payment-option').classList.add('active');
            
            // Show appropriate form
            document.getElementById('mpesaForm').style.display = method === 'mpesa' ? 'block' : 'none';
            document.getElementById('cardForm').style.display = method === 'card' ? 'block' : 'none';
            document.getElementById('cashForm').style.display = method === 'cash' ? 'block' : 'none';
        }

        // Pay with M-Pesa
        function payWithMpesa() {
            const phone = document.getElementById('mpesaPhone').value;
            
            if (!phone) {
                showToast("Please enter your phone number", true);
                return;
            }
            
            showToast("Sending M-Pesa request...");
            
            // Simulate M-Pesa payment
            setTimeout(() => {
                closeCheckout();
                placeOrder();
                showToast("Payment successful! Order placed.", false, 'success');
            }, 2000);
        }

        // Pay with card
        function payWithCard() {
            const cardNumber = document.getElementById('cardNumber').value;
            const cardExpiry = document.getElementById('cardExpiry').value;
            const cardCvv = document.getElementById('cardCvv').value;
            
            if (!cardNumber || !cardExpiry || !cardCvv) {
                showToast("Please fill in all card details", true);
                return;
            }
            
            showToast("Processing card payment...");
            
            // Simulate card payment
            setTimeout(() => {
                closeCheckout();
                placeOrder();
                showToast("Payment successful! Order placed.", false, 'success');
            }, 2000);
        }

        // Place order (for cash payment)
        function placeOrder() {
            showToast("Order placed successfully!", false, 'success');
            
            // Clear cart
            cart = [];
            updateCartCount();
            saveCart();
            
            // Close checkout modal
            closeCheckout();
        }

        // Show toast notification
        function showToast(message, isError = false, type = 'default') {
            try {
                // Remove existing toasts
                const existingToast = document.querySelector('.toast');
                if (existingToast) existingToast.remove();
                
                const toast = document.createElement('div');
                toast.className = `toast ${isError ? 'error' : type === 'success' ? 'success' : ''}`;
                toast.textContent = message;
                document.body.appendChild(toast);
                
                // Show the toast
                toast.style.display = 'block';
                
                // Auto-remove after animation
                setTimeout(() => {
                    toast.remove();
                }, 4000);
            } catch (error) {
                console.error("Toast error:", error);
            }
        }

        // Close modals when clicking overlay
        overlay.addEventListener('click', closeModals);
        protectedOverlay.addEventListener('click', () => {
            protectedOverlay.style.display = 'none';
        });

        // Prevent modal close when clicking inside modal
        loginModal.addEventListener('click', (e) => e.stopPropagation());
        signupModal.addEventListener('click', (e) => e.stopPropagation());
        checkoutModal.addEventListener('click', (e) => e.stopPropagation());

        // Keyboard accessibility
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
                closeModals();
                protectedOverlay.style.display = 'none';
                closeCheckout();
                
                const toast = document.querySelector('.toast');
                if (toast) toast.remove();
                
                // Close cart modal if open
                const cartModal = document.querySelector('.auth-modal:not(#loginModal):not(#signupModal):not(#checkoutModal)');
                const cartOverlay = document.querySelector('.overlay:not(#overlay)');
                
                if (cartModal) cartModal.remove();
                if (cartOverlay) cartOverlay.remove();
            }
        });

        // Initialize the app
        window.addEventListener('DOMContentLoaded', () => {
            init();
            simulateAuthState();
        });

        window.addEventListener('resize', checkBackgroundColor);
        window.addEventListener('scroll', checkBackgroundColor);
    </script>
</body>
</html>